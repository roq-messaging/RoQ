Picked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF8
Starting the local host configuration manager with 1
Starting the  global configuration manager
11:33:46,424 ERROR [main] (FileConfigurationReader:loadHCMConfiguration:124)   Error while reading configuration file - skipped but set the default configuration
java.util.NoSuchElementException: 'exchange.vm.heap' doesn't map to an existing object
	at org.apache.commons.configuration.AbstractConfiguration.getInt(AbstractConfiguration.java:816)
	at org.roqmessaging.management.config.internal.FileConfigurationReader.loadHCMConfiguration(FileConfigurationReader.java:120)
	at org.roqmessaging.management.HostConfigManager.<init>(HostConfigManager.java:114)
	at org.roqmessaging.management.launcher.HostConfigManagerLauncher.main(HostConfigManagerLauncher.java:43)
11:33:46,430  INFO [main] (HostConfigManager:<init>:120)   Host configuration manager [Zk :172.17.0.20] [Exhange FE :6000] [Monitor base port: 5500]
 [Create Queue in the same HCM VM: true] [Create Exchange in same HCM VM: false] [ Exchange Heap: 256]
11:33:46,621  INFO [main] (RoQZooKeeperClient:<init>:47)   
11:33:46,622  INFO [main] (RoQZooKeeperClient:start:46)   
11:33:46,626  INFO [main] (CuratorFrameworkImpl:start:238)   Starting
11:33:46,639  INFO [main] (ZooKeeper:logEnv:100)   Client environment:zookeeper.version=3.4.6-1569965, built on 02/20/2014 09:09 GMT
11:33:46,639  INFO [main] (ZooKeeper:logEnv:100)   Client environment:host.name=ca1ea5405f79
11:33:46,639  INFO [main] (ZooKeeper:logEnv:100)   Client environment:java.version=1.7.0_75
11:33:46,640  INFO [main] (ZooKeeper:logEnv:100)   Client environment:java.vendor=Oracle Corporation
11:33:46,640  INFO [main] (ZooKeeper:logEnv:100)   Client environment:java.home=/usr/lib/jvm/java-7-openjdk-amd64/jre
11:33:46,640  INFO [main] (ZooKeeper:logEnv:100)   Client environment:java.class.path=/lib/RoQ2/roq-management/target/roq-management-1.0-SNAPSHOT-jar-with-dependencies.jar
11:33:46,640  INFO [main] (ZooKeeper:logEnv:100)   Client environment:java.library.path=/usr/local/lib
11:33:46,641  INFO [main] (ZooKeeper:logEnv:100)   Client environment:java.io.tmpdir=/tmp
11:33:46,641  INFO [main] (ZooKeeper:logEnv:100)   Client environment:java.compiler=<NA>
11:33:46,641  INFO [main] (ZooKeeper:logEnv:100)   Client environment:os.name=Linux
11:33:46,642  INFO [main] (ZooKeeper:logEnv:100)   Client environment:os.arch=amd64
11:33:46,645  INFO [main] (ZooKeeper:logEnv:100)   Client environment:os.version=3.13.0-46-generic
11:33:46,645  INFO [main] (ZooKeeper:logEnv:100)   Client environment:user.name=root
11:33:46,645  INFO [main] (ZooKeeper:logEnv:100)   Client environment:user.home=/root
11:33:46,646  INFO [main] (ZooKeeper:logEnv:100)   Client environment:user.dir=/
11:33:46,647  INFO [main] (ZooKeeper:<init>:438)   Initiating client connection, connectString=172.17.0.20 sessionTimeout=60000 watcher=org.apache.curator.ConnectionState@2fdb6074
11:33:46,676  INFO [main-SendThread(172.17.0.20:2181)] (ClientCnxn:logStartConnect:975)   Opening socket connection to server 172.17.0.20/172.17.0.20:2181. Will not attempt to authenticate using SASL (unknown error)
11:33:46,694  INFO [main-SendThread(172.17.0.20:2181)] (ClientCnxn:primeConnection:852)   Socket connection established to 172.17.0.20/172.17.0.20:2181, initiating session
11:33:46,711  INFO [Thread-1] (ProcessMonitor:run:127)   Starting heartbeat monitor
11:33:46,711  INFO [Thread-1] (ProcessMonitor:run:130)   check up loop
11:33:46,714  INFO [Thread-4] (HostConfigManager:registerHost:450)   Registration process started
11:33:46,727  INFO [Thread-2] (ShutDownMonitor:run:63)   Shutdown monitor started for Host config manager 172.17.0.22
11:33:46,742  INFO [Thread-4] (RoQZooKeeperClient:registerHCM:228)   Registering hcm with address: 172.17.0.22
11:33:46,798  INFO [main-SendThread(172.17.0.20:2181)] (ClientCnxn:onConnected:1235)   Session establishment complete on server 172.17.0.20/172.17.0.20:2181, sessionid = 0x14e06720ef90001, negotiated timeout = 20000
11:33:46,804  INFO [main-EventThread] (ConnectionStateManager:postState:194)   State change: CONNECTED
11:33:47,240  INFO [Thread-4] (RoQZooKeeperClient:addHCMState:246)   172.17.0.22
11:33:47,598  INFO [Thread-4] (HostConfigManager:registerHost:455)   Registration process sucessfull
11:33:55,814  INFO [Thread-4] (ProcessMonitor:addprocess:80)   adding process: 5500 in process monitoring system
Picked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF8
11:33:55,820  INFO [Thread-4] (HostProcessFactory:startNewExchangeProcess:144)   Starting: [java, -Djava.library.path=/usr/local/lib, -cp, /lib/RoQ2/roq-management/target/roq-management-1.0-SNAPSHOT-jar-with-dependencies.jar, -Xmx256m, -XX:+UseConcMarkSweepGC, org.roqmessaging.core.launcher.ExchangeLauncher, 6000, 6001, tcp://172.17.0.22:5500, tcp://172.17.0.22:5800, /tmp/hcmlocaldb, 5000]
11:33:55,838  INFO [Thread-4] (ProcessMonitor:addprocess:80)   adding process: 6000 in process monitoring system
Picked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF8
11:33:55,854  INFO [Thread-4] (ProcessMonitor:addprocess:80)   adding process: 5506 in process monitoring system
11:33:55,867  INFO [Thread-4] (HostConfigManager:run:211)   Successfully created new Q for testIdempotentQ0@tcp://172.17.0.22:5500,tcp://172.17.0.22:5800
Picked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF8
Launching Monitor process with arg 5500, 5800, testIdempotentQ0, 60000, /tmp/hcmlocaldb, 5000, true, 172.17.0.20, 
Starting Monitor on base port 5500, 5800, testIdempotentQ0 60000 /tmp/hcmlocaldb 5000 true 172.17.0.20
Launching Exchange process with arg 6000, 6001, tcp://172.17.0.22:5500, tcp://172.17.0.22:5800, /tmp/hcmlocaldb, 5000, 
Starting Exchange with monitor tcp://172.17.0.22:5500, stat= tcp://172.17.0.22:5800
Front  port  6000, Back port= 6001
Launching Scaling process with arg 172.17.0.20, 5000, 5003, testIdempotentQ0, 5506, /tmp/hcmlocaldb, 5000, 
Starting Scaling process for queue testIdempotentQ0, using listener port 5506
11:33:56,759  INFO [Thread-1] (ProcessMonitor:run:130)   check up loop
11:33:56,912  INFO [main] (Exchange:<init>:127)   BackendSub: SndHWM=-1 RcvHWM=-1
11:33:56,941  INFO [main] (Exchange:<init>:128)   FrontendSub: SndHWM=-1 RcvHWM=-1
11:33:56,966  INFO [Thread-0] (ShutDownMonitor:run:63)   Shutdown monitor started for Exchange 6000->6001
11:33:56,985  INFO [Thread-1] (Exchange:run:187)   Exchange Started
11:33:57,004  INFO [Timer-0] (Heartbeat:run:48)   EXCHANGE HB
11:33:57,035  INFO [Thread-1] (Exchange:run:208)   Exch Writing hb 6000 1434627237
11:33:57,099  INFO [Timer-0] (ExchangeStatTimer:run:76)   172.17.0.22 : minute 0 : 0 bytes/min, 0 producers connected - most productive = x,x
11:33:57,120  INFO [Timer-0] (HostOSMonitoring:getCPUUsage:50)   CPU usage this last minute:  5.0
11:33:57,122  INFO [Timer-0] (HostOSMonitoring:getMemoryUsage:37)   Current memory 3.8642578125 Mo  on 57.8125 Mo
11:33:57,394  INFO [main] (RoQZooKeeper:start:46)   
11:33:57,413  INFO [main] (CuratorFrameworkImpl:start:238)   Starting
11:33:57,413  INFO [main] (RoQZooKeeperMonitorClient:start:46)   
11:33:57,437  INFO [main] (CuratorFrameworkImpl:start:238)   Starting
11:33:57,470  INFO [main] (ZooKeeper:logEnv:100)   Client environment:zookeeper.version=3.4.6-1569965, built on 02/20/2014 09:09 GMT
11:33:57,488  INFO [main] (ZooKeeper:logEnv:100)   Client environment:host.name=ca1ea5405f79
11:33:57,488  INFO [main] (ZooKeeper:logEnv:100)   Client environment:java.version=1.7.0_75
11:33:57,489  INFO [main] (ZooKeeper:logEnv:100)   Client environment:java.vendor=Oracle Corporation
11:33:57,490  INFO [main] (ZooKeeper:logEnv:100)   Client environment:java.home=/usr/lib/jvm/java-7-openjdk-amd64/jre
11:33:57,463  INFO [main] (ZooKeeper:logEnv:100)   Client environment:zookeeper.version=3.4.6-1569965, built on 02/20/2014 09:09 GMT
11:33:57,490  INFO [main] (ZooKeeper:logEnv:100)   Client environment:host.name=ca1ea5405f79
11:33:57,490  INFO [main] (ZooKeeper:logEnv:100)   Client environment:java.class.path=/lib/RoQ2/roq-management/target/roq-management-1.0-SNAPSHOT-jar-with-dependencies.jar
11:33:57,490  INFO [main] (ZooKeeper:logEnv:100)   Client environment:java.version=1.7.0_75
11:33:57,491  INFO [main] (ZooKeeper:logEnv:100)   Client environment:java.library.path=/usr/local/lib
11:33:57,491  INFO [main] (ZooKeeper:logEnv:100)   Client environment:java.vendor=Oracle Corporation
11:33:57,491  INFO [main] (ZooKeeper:logEnv:100)   Client environment:java.home=/usr/lib/jvm/java-7-openjdk-amd64/jre
11:33:57,491  INFO [main] (ZooKeeper:logEnv:100)   Client environment:java.io.tmpdir=/tmp
11:33:57,491  INFO [main] (ZooKeeper:logEnv:100)   Client environment:java.class.path=/lib/RoQ2/roq-management/target/roq-management-1.0-SNAPSHOT-jar-with-dependencies.jar
11:33:57,492  INFO [main] (ZooKeeper:logEnv:100)   Client environment:java.library.path=/usr/local/lib
11:33:57,497  INFO [main] (ZooKeeper:logEnv:100)   Client environment:java.io.tmpdir=/tmp
11:33:57,497  INFO [main] (ZooKeeper:logEnv:100)   Client environment:java.compiler=<NA>
11:33:57,498  INFO [main] (ZooKeeper:logEnv:100)   Client environment:java.compiler=<NA>
11:33:57,498  INFO [main] (ZooKeeper:logEnv:100)   Client environment:os.name=Linux
11:33:57,498  INFO [main] (ZooKeeper:logEnv:100)   Client environment:os.arch=amd64
11:33:57,498  INFO [main] (ZooKeeper:logEnv:100)   Client environment:os.name=Linux
11:33:57,498  INFO [main] (ZooKeeper:logEnv:100)   Client environment:os.version=3.13.0-46-generic
11:33:57,498  INFO [main] (ZooKeeper:logEnv:100)   Client environment:os.arch=amd64
11:33:57,499  INFO [main] (ZooKeeper:logEnv:100)   Client environment:user.name=root
11:33:57,499  INFO [main] (ZooKeeper:logEnv:100)   Client environment:os.version=3.13.0-46-generic
11:33:57,499  INFO [main] (ZooKeeper:logEnv:100)   Client environment:user.name=root
11:33:57,499  INFO [main] (ZooKeeper:logEnv:100)   Client environment:user.home=/root
11:33:57,508  INFO [main] (ZooKeeper:logEnv:100)   Client environment:user.dir=/
11:33:57,510  INFO [main] (ZooKeeper:<init>:438)   Initiating client connection, connectString=172.17.0.20 sessionTimeout=60000 watcher=org.apache.curator.ConnectionState@48dd7c33
11:33:57,499  INFO [main] (ZooKeeper:logEnv:100)   Client environment:user.home=/root
11:33:57,515  INFO [main] (ZooKeeper:logEnv:100)   Client environment:user.dir=/
11:33:57,523  INFO [main] (ZooKeeper:<init>:438)   Initiating client connection, connectString=172.17.0.20 sessionTimeout=60000 watcher=org.apache.curator.ConnectionState@3a333bdb
11:33:57,618  INFO [main-SendThread(172.17.0.20:2181)] (ClientCnxn:logStartConnect:975)   Opening socket connection to server 172.17.0.20/172.17.0.20:2181. Will not attempt to authenticate using SASL (unknown error)
11:33:57,641  INFO [main-SendThread(172.17.0.20:2181)] (ClientCnxn:primeConnection:852)   Socket connection established to 172.17.0.20/172.17.0.20:2181, initiating session
11:33:57,642  INFO [main-SendThread(172.17.0.20:2181)] (ClientCnxn:logStartConnect:975)   Opening socket connection to server 172.17.0.20/172.17.0.20:2181. Will not attempt to authenticate using SASL (unknown error)
11:33:57,675  INFO [main-SendThread(172.17.0.20:2181)] (ClientCnxn:onConnected:1235)   Session establishment complete on server 172.17.0.20/172.17.0.20:2181, sessionid = 0x14e06720ef90005, negotiated timeout = 20000
11:33:57,681  INFO [main-EventThread] (ConnectionStateManager:postState:194)   State change: CONNECTED
11:33:57,695  INFO [main-SendThread(172.17.0.20:2181)] (ClientCnxn:primeConnection:852)   Socket connection established to 172.17.0.20/172.17.0.20:2181, initiating session
11:33:57,695  INFO [Thread-4] (HostConfigManager:run:211)   Successfully created new Q for testIdempotentQ0@tcp://172.17.0.22:5500
11:33:57,748  INFO [main-SendThread(172.17.0.20:2181)] (ClientCnxn:onConnected:1235)   Session establishment complete on server 172.17.0.20/172.17.0.20:2181, sessionid = 0x14e06720ef90006, negotiated timeout = 20000
11:33:57,765  INFO [main-EventThread] (ConnectionStateManager:postState:194)   State change: CONNECTED
11:33:58,896 DEBUG [main] (Monitor:<init>:116)   Binding procuder to tcp://*:5502
11:33:58,896 DEBUG [main] (Monitor:<init>:120)   Binding broker Sub  to tcp://*:5500
11:33:58,896 DEBUG [main] (Monitor:<init>:125)   Init request socket to tcp://*:5501
11:33:58,899 DEBUG [main] (Monitor:<init>:132)   Heart beat request socket to tcp://*:5504
11:33:58,923  INFO [Thread-1] (StatisticMonitor:run:80)   Starting the Stat Monitor on 172.17.0.22:5800
11:33:58,925 DEBUG [main] (Monitor:<init>:147)   Started shutdown monitor on 5505
11:33:58,926  INFO [Thread-2] (ShutDownMonitor:run:63)   Shutdown monitor started for testIdempotentQ0:5500
11:33:58,942  INFO [Thread-3] (Monitor:run:374)   Monitor started isMaster: true
11:33:58,944  INFO [Thread-3] (Monitor:HCMHeartbeat:605)   Writing hb 5500 1434627238
11:33:59,009  INFO [Timer-0] (Heartbeat:run:48)   EXCHANGE HB
11:33:59,083 DEBUG [Thread-3] (Monitor:updateExchgMetadata:284)   update Exchg Metadata
11:33:59,085 DEBUG [Thread-3] (Monitor:relocateProd:318)   Relocate exchange procedure
11:33:59,090  INFO [Thread-3] (Monitor:logHost:250)   Added new host: 172.17.0.22: 6000->6001



 ---------------------------------- 


